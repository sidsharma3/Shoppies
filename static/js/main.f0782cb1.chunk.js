(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{27:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),c=n(21),o=n.n(c),s=(n(27),n(8)),r=n(4),d=n(3),j=n.n(d),m=n(0),l=function(e){var t=e.movie,n=e.addNomination;return Object(m.jsx)(j.a,{children:Object(m.jsxs)("div",{className:"movie",children:[Object(m.jsx)("img",{width:"210",height:"315",alt:t.Title,src:t.Poster}),Object(m.jsx)("h3",{children:t.Title}),Object(m.jsx)("h2",{children:t.Year}),Object(m.jsx)("button",{className:"button",disabled:t.nominated,onClick:function(){return n(t)},children:t.nominated?"Nominated!":"Nominate Me!"})]})})},b=function(e){var t=e.movies,n=e.addNomination;return Object(m.jsx)("div",{className:"movieContainer",children:0===t.length?Object(m.jsx)("h1",{children:"No movies were found! Use the search bar above to find movies!"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Search Results:"}),Object(m.jsx)("div",{className:"movies",children:t.map((function(e,t){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(l,{movie:e,addNomination:n},t)})}))})]})})},h=function(e){var t=e.setSearchWords,n=Object(i.useState)(""),a=Object(r.a)(n,2),c=a[0],o=a[1];return Object(m.jsxs)("div",{className:"searchBar",children:[Object(m.jsx)("input",{type:"text",placeholder:"Search Movies",onChange:function(e){return o(e.target.value)}}),Object(m.jsx)("button",{disabled:c.length<=2,onClick:function(){return t(c)},children:"Search!"})]})},u=function(e){var t=e.nomination,n=e.deleteNomination;return Object(m.jsx)(j.a,{children:Object(m.jsxs)("div",{className:"nomination",children:[Object(m.jsx)("h3",{children:t.Title}),Object(m.jsx)("h2",{children:t.Year}),Object(m.jsx)("img",{width:"180",height:"270",alt:t.Title,src:t.Poster}),Object(m.jsx)("button",{onClick:function(){return n(t,t.imdbID)},children:"Delete!"})]})})},O=function(e){var t=e.nominations,n=e.deleteNomination;return Object(m.jsx)("div",{className:"nominationContainer",children:0===t.length?Object(m.jsx)(j.a,{children:Object(m.jsx)("h1",{className:"explanation",children:"Click on one of the movies below to nominate them!"})}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Nominations:"}),Object(m.jsx)("div",{className:"nominations",children:t.map((function(e,t){return Object(m.jsx)(u,{nomination:e,deleteNomination:n},t)}))})]})})};var f=function(){return Object(m.jsxs)("div",{className:"loading",children:[Object(m.jsx)("div",{className:"spinner"}),Object(m.jsx)("p",{children:"Loading Movies..."})]})};var v=function(e){var t=e.setShowLanding;return Object(m.jsxs)("div",{className:"landing",children:[Object(m.jsx)("h1",{children:"Welcome to the Shoppies!"}),Object(m.jsxs)("p",{children:["Click the button below to get started in searching for and nomianting five movies for the ",Object(m.jsx)("span",{children:"Shoppies"})]}),Object(m.jsx)("button",{onClick:function(){return t(!1)},children:"Click to get started"})]})},x=n(6),g=n.n(x),p=n(22),N=n.n(p);var S=function(){var e=Object(i.useState)(JSON.parse(localStorage.getItem("nominations"))||[]),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)("movie"),o=Object(r.a)(c,2),d=o[0],l=o[1],u=Object(i.useState)(!0),g=Object(r.a)(u,2),p=g[0],S=g[1],I=Object(i.useState)(!0),_=Object(r.a)(I,2),w=_[0],C=_[1],F=Object(i.useState)([]),k=Object(r.a)(F,2),y=k[0],D=k[1];return Object(i.useEffect)((function(){S(!0),N.a.get("http://www.omdbapi.com/?s=".concat(d,"&apikey=6cbaeff6")).then((function(e){if("False"!==e.data.Response){var t=Object(s.a)(e.data.Search),i={};t.forEach((function(e){n.some((function(t){return t.imdbID===e.imdbID}))?e.nominated=!0:e.nominated=!1,i[e.imdbID]=e})),D(Object.values(i))}else S(!1),D([]),console.log("error in search")})).catch((function(e){var t=e.message;return console.log(t)}))}),[d]),Object(i.useEffect)((function(){S(!1),localStorage.setItem("movies",JSON.stringify(y)),D(y)}),[y]),Object(i.useEffect)((function(){localStorage.setItem("nominations",JSON.stringify(n)),5===n.length&&x.store.addNotification({title:"Great Job!",message:"You Nominated Five Movies!",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}});var e=Object(s.a)(y);e.forEach((function(e){n.some((function(t){return t.imdbID===e.imdbID}))?e.nominated=!0:e.nominated=!1})),D(e)}),[n]),Object(m.jsx)("div",{className:"app",children:w?Object(m.jsx)(j.a,{children:Object(m.jsx)(v,{setShowLanding:C})}):Object(m.jsxs)("div",{className:"container",children:[5===n.length&&Object(m.jsx)("h1",{children:"Awesome! You Nominated Five Movies!"}),Object(m.jsx)(O,{nominations:n,deleteNomination:function(e,t){a(n.filter((function(t){return t.imdbID!==e.imdbID}))),e.nominated=!1}}),Object(m.jsx)(h,{setSearchWords:l}),p?Object(m.jsx)(f,{}):Object(m.jsx)(b,{movies:y,addNomination:function(e){5!==n.length?(e.nominated=!0,a([].concat(Object(s.a)(n),[e]))):x.store.addNotification({title:"There is an Issue!",message:"You Can Only Nominate Five Movies",type:"warning",insert:"top",container:"top-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}})}})]})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),c(e),o(e)}))};n(67);o.a.render(Object(m.jsxs)(a.a.StrictMode,{children:[Object(m.jsx)(g.a,{}),Object(m.jsx)(S,{})]}),document.getElementById("root")),I()}},[[68,1,2]]]);
//# sourceMappingURL=main.f0782cb1.chunk.js.map